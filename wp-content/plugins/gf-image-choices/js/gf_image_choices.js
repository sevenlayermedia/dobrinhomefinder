var imageChoices=imageChoices||{};!function(e){imageChoices.cssClasses={selected:"image-choices-choice-selected",hover:"image-choices-choice-hover",focus:"image-choices-choice-focus"},imageChoices.getFormMarkupVersion=function(i){var o;if("undefined"==typeof i||"string"==typeof i&&""===i)o=e(".gform_wrapper:first form");else if(i instanceof jQuery)o=i;else{if("string"!=typeof i)return 1;o=e("#gform_"+i)}return o.length?""===imageChoicesVars.is_gf_min_2_5||o.closest(".gform_wrapper").hasClass("gform_legacy_markup_wrapper")?1:2:1},imageChoices.$fieldChoices=function(e){if("undefined"==typeof e||e instanceof jQuery==!1)return[];var i='.ginput_container .gfield_radio div[class*="gchoice"], .ginput_container .gfield_checkbox div[class*="gchoice"]:not(.gchoice_select_all)';return 1===imageChoices.getFormMarkupVersion(e.closest("form"))&&(i=".ginput_container .gfield_radio li, .ginput_container .gfield_checkbox li:not(.gchoice_select_all)"),e.find(i)},imageChoices.SelectedFields=function(i){var o=e("undefined"!=typeof i&&""!==i?"#gform_"+i:".gform_wrapper form");imageChoices.$fieldChoices(o.find(".image-choices-field")).find("input:checked").each(function(){var i=e(this),o=1===imageChoices.getFormMarkupVersion(i.closest("form"))?i.closest("li"):i.closest('div[class*="gchoice"]');o.addClass(imageChoices.cssClasses.selected)})},imageChoices.InitLightbox=function(i){var o=e("undefined"!=typeof i&&""!==i?"#gform_"+i:".gform_wrapper form");o.find(".image-choices-field.image-choices-use-lightbox").each(function(){imageChoicesVars.hasOwnProperty("elementorCompat")&&"elementor"!==imageChoicesVars.elementorCompat&&e(this).find(".image-choices-lightbox-btn").jetslothLightbox({captionType:"data",captionsData:"caption"})})},imageChoices.onChoiceKeyPress=function(i){var o=9,s=32,a=e(i.target),c=a.closest(".gfield");if(i.keyCode===s&&(a.is(":checkbox")||a.is(":radio")))a.is(":radio")&&!a.is(":checked")?i.preventDefault():a.is(":checkbox")&&(i.preventDefault(),i.stopImmediatePropagation());else if(i.keyCode===o&&c.hasClass("image-choices-field")){var t=i.shiftKey?"previous":"next",l=a.closest(".image-choices-choice");"next"===t?l.is(":last-child")||(i.preventDefault(),l.next(".image-choices-choice").find("> input").focus()):"previous"===t&&(l.is(":first-child")||(i.preventDefault(),l.prev(".image-choices-choice").find("> input").focus()))}},imageChoices.onChoicesSelectAllClick=function(i){var o=e(this),s=o.closest(".gfield"),a=o.is(":checked")?s.find(".image-choices-choice input:checked"):s.find(".image-choices-choice input:not(:checked)");a.length&&a.each(function(i,o){var s=e(o);imageChoices.onChoiceLabelClick(s.next("label"))})},imageChoices.onChoiceLabelClick=function(e){var i=1===imageChoices.getFormMarkupVersion(e.closest("form"))?e.closest("li"):e.closest('div[class*="gchoice"]'),o=i.closest(".gfield_checkbox, .gfield_radio").first(),s=i.find("input");i.hasClass("image-choices-choice-other")&&i.find("input:text").focus(),o.hasClass("gfield_radio")?(o.find("."+imageChoices.cssClasses.selected).not(i).removeClass(imageChoices.cssClasses.selected).find("input").prop("checked",!1),i.addClass(imageChoices.cssClasses.selected)):o.hasClass("gfield_checkbox")&&(s.is(":checked")?i.addClass(imageChoices.cssClasses.selected):i.removeClass(imageChoices.cssClasses.selected))},imageChoices.SetUpFields=function(i){e(".entry-details .detail-view .image-choices-choice-image-wrap").each(function(i){var o=e(this),s=o.closest(".detail-view");s.addClass("image-choices-field image-choices-show-labels")});var o=e("undefined"!=typeof i&&""!==i?"#gform_"+i:".gform_wrapper form");!o.length&&e(".gform_variation_wrapper").length&&(o=e(".gform_variation_wrapper"));var s=imageChoices.$fieldChoices(o.find(".image-choices-field"));s.length>0&&(s.each(function(){var i=e(this);if(i.hasClass("gchoice_select_all"))return i.find("input").on("click",imageChoices.onChoicesSelectAllClick),!0;i.addClass("image-choices-choice");var o=i.data("init");if(o!==!0)if(i.data("init",!0),i.find("label").hover(function(i){var o=e(this);if(o.find("input").is(":disabled"))return!1;var s=1===imageChoices.getFormMarkupVersion(o.closest("form"))?o.closest("li"):o.closest('div[class*="gchoice"]');s.addClass(imageChoices.cssClasses.hover)},function(i){var o=e(this);if(o.find("input").is(":disabled"))return!1;var s=1===imageChoices.getFormMarkupVersion(o.closest("form"))?o.closest("li"):o.closest('div[class*="gchoice"]');s.removeClass(imageChoices.cssClasses.hover)}),i.find("input").focus(function(){var i=e(this),o=1===imageChoices.getFormMarkupVersion(i.closest("form"))?i.closest("li"):i.closest('div[class*="gchoice"]');o.addClass(imageChoices.cssClasses.focus)}).blur(function(){var i=e(this),o=1===imageChoices.getFormMarkupVersion(i.closest("form"))?i.closest("li"):i.closest('div[class*="gchoice"]');o.removeClass(imageChoices.cssClasses.focus)}),i.find('input[value="gf_other_choice"]').length){i.addClass("image-choices-choice-other");var s=i.find("input:text").val();i.append(["<label>",'<span class="image-choices-choice-image-wrap" style="background-image:none;"></span>','<span class="image-choices-choice-text">'+s+"</span>","</label>"].join("")),i.click(function(){imageChoices.onChoiceLabelClick(e(this).find("label"))})}else{i.find("input").click(function(){var i=e(this),o=1===imageChoices.getFormMarkupVersion(i.closest("form"))?i.siblings("label"):i.closest(".image-choices-choice").find("label");imageChoices.onChoiceLabelClick(o)});var a=i.closest(".image-choices-field");if(a.hasClass("image-choices-use-lightbox")&&!i.find(".image-choices-lightbox-btn").length){var c=a.attr("id"),t=i.find(".image-choices-choice-text").html(),l=(t+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0"),n=i.find(".image-choices-choice-image").attr("src"),r=i.find(".image-choices-choice-image").data("lightbox-src");if("undefined"!=typeof r&&""!==r||(r=n),""!==r){var h=imageChoicesVars.hasOwnProperty("elementorCompat")&&"elementor"!==imageChoicesVars.elementorCompat?'data-elementor-open-lightbox="no"':"",g=e('<a href="'+r+'" class="image-choices-lightbox-btn" '+h+' rel="'+c+'"><i></i></a>');g.data("caption",l),i.prepend(g)}}}}),setTimeout(function(){imageChoices.SelectedFields(i),imageChoices.InitLightbox(i)},100))},window.imageChoices_SetUpFields=imageChoices.SetUpFields,imageChoices.ConditionalLogic=function(i){var o=e("undefined"!=typeof i&&""!==i?"#gform_"+i:".gform_wrapper form"),s=o.find(".image-choices-field");s.length&&s.each(function(){var i=e(this);i.is(":hidden")&&i.find(".image-choices-choice").removeClass(imageChoices.cssClasses.selected+" "+imageChoices.cssClasses.hover+" "+imageChoices.cssClasses.focus)})},e(document).bind("gform_post_render",function(i,o,s){window.gformGetOptionLabel=imageChoices.gformGetOptionLabel,imageChoices.SetUpFields(o),setTimeout(function(){e("html").addClass("gf-image-choices-loaded gf-image-choices-styles-loaded")},500);var a=e("#gform_"+o),c="undefined"!=typeof s?a.find("#gform_page_"+o+"_"+s):[],t=c.length?c.find(".image-choices-field .jetsloth-lazy"):a.find(".image-choices-field .jetsloth-lazy");t.each(function(){imageChoices.observer.observe(this)})}),e(document).bind("gform_post_conditional_logic",function(e,i,o,s){imageChoices.ConditionalLogic(i),imageChoices.SelectedFields(i)}),imageChoices.gformGetOptionLabel=function(i,o,s,a,c){if(i=e(i),i.closest(".gfield").hasClass("color-picker-field")&&"function"==typeof window.colorPicker_gformGetOptionLabel)return window.colorPicker_gformGetOptionLabel(i,o,s,a,c);var t=1===imageChoices.getFormMarkupVersion(a)?i.closest("li"):i.closest('div[class*="gchoice"]'),l=t.index(),n=gformGetPrice(o),r=i.attr("price"),h=i.html().replace(/<span(.*)<\/span>/i,"").replace(r,""),g=gformGetPriceDifference(s,n);g=0==gformToNumber(g)?"":" "+g,i.attr("price",g);var d="option"==i[0].tagName.toLowerCase()?" "+g:"<span class='ginput_price'>"+g+"</span>",f=h+d;return window.gform_format_option_label&&(f=gform_format_option_label(f,h,d,s,n,a,c,l)),f},window.imageChoices_gformGetOptionLabel=imageChoices.gformGetOptionLabel,window.gformGetOptionLabel=imageChoices.gformGetOptionLabel,imageChoices.gform_format_option_label=function(i,o,s,a,c,t,l,n){var r=[i],h=e("#gform_"+t+" .gfield#field_"+t+"_"+l);if(h.length&&h.hasClass("image-choices-field")){var g=1===imageChoices.getFormMarkupVersion(t)?h.find(".ginput_container li"):h.find('div[class*="gchoice"]'),d=g.eq(n),f="undefined"!=typeof h.data("jetsloth-lazy-loaded")?h.data("jetsloth-lazy-loaded"):[];if(d.length){var m=d.find("label"),p=d.find("input"),u=p.attr("value"),C=(u.indexOf("|")!==-1?u.substring(0,u.indexOf("|")):"",m.data("img")),_=m.data("lightbox-src"),v=m.find(".image-choices-choice-text").html();if(""===o&&(o=v),s===o&&(s=""),""!==s&&""===e(s).text()){var b=e("<div>"+s+"</div>").find(".ginput_price");b.length&&(s=b.append("+"+gformFormatMoney(c,!0)).html())}var y=h.hasClass("has-jetsloth-lazy"),k=y&&e.inArray(n,f)===-1,w=['<span class="image-choices-choice-image-wrap" style="background-image:url('+C+');">','<img src="'+C+'" class="image-choices-choice-image" alt="" data-lightbox-src="'+_+'" />',"</span>"].join("");if(k&&(w=['<span class="image-choices-choice-image-wrap jetsloth-lazy" data-lazy-bg="'+C+'">','<img src="" data-lazy-src="'+C+'" class="image-choices-choice-image jetsloth-lazy" alt="" data-lightbox-src="'+_+'" />',"</span>"].join("")),r=[w,'<span class="image-choices-choice-text">'+o+"</span>",'<span class="image-choices-choice-price">'+s+"</span>"],h.hasClass("image-choices-use-lightbox")&&d.find(".image-choices-lightbox-btn").length){var x=(o+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0"),z=C,L=_;"undefined"!=typeof L&&""!==L||(L=z),""!==L&&d.find(".image-choices-lightbox-btn").attr("href",L).data("caption",x).attr("rel",l)}k&&setTimeout(function(){d.find(".jetsloth-lazy").each(function(){imageChoices.observer.observe(this)})},100)}}return jetsloth_apply_filters("gfic_choice_html",r.join(""))},window.imageChoices_gform_format_option_label=imageChoices.gform_format_option_label,window.gform_format_option_label=function(i,o,s,a,c,t,l,n){var r=e("#field_"+t+"_"+l);return r.length&&r.hasClass("color-picker-field")&&"function"==typeof window.colorPicker_gform_format_option_label?window.colorPicker_gform_format_option_label(i,o,s,a,c,t,l,n):imageChoices.gform_format_option_label(i,o,s,a,c,t,l,n)},imageChoices.onImageLoaded=function(i){var o=e(i);o.addClass("jetsloth-lazy-loaded");var s=o.closest(".gfield");if(s.length){var a=o.closest("li").index(),c="undefined"!=typeof s.data("jetsloth-lazy-loaded")?s.data("jetsloth-lazy-loaded"):[];c.push(a),s.data("jetsloth-lazy-loaded",c)}},imageChoices.loadImage=function(i){var o=e(i);if("undefined"!=typeof o.data("lazy-bg")&&""!==o.data("lazy-bg")){var s=new Image;s.onload=function(){o.css("background-image","url("+o.data("lazy-bg")+")"),imageChoices.onImageLoaded(o)},s.src=o.data("lazy-bg")}else"undefined"!=typeof o.data("lazy-src")&&""!==o.data("lazy-src")&&(o.on("load",function(){imageChoices.onImageLoaded(o)}),o.attr("src",o.data("lazy-src")))},imageChoices.lazyLoad=function(i){e.each(i,function(e,i){i.intersectionRatio>0&&(imageChoices.observer.unobserve(i.target),imageChoices.loadImage(i.target))})};var i={rootMargin:jetsloth_apply_filters("gfic_lazy_root_margin","100px"),threshold:jetsloth_apply_filters("gfic_lazy_threshold",1)};imageChoices.observer=new IntersectionObserver(imageChoices.lazyLoad,i)}(jQuery);